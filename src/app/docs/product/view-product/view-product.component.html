<div class="container">

  <a class="btn btn-sm edit-page-btn" routerLink="edit" [hasPermission]="[permissions.PRODUCT.UPDATE]" [hasPermissionTo]="entityPermissions.MODIFY" [entity]="product">
    <clr-icon shape="pencil" class="is-solid"></clr-icon> Page Edit
  </a>


    <h1 class="bottom-spacer-10">{{ product.name }}</h1>

    <h4 class="bottom-spacer-20">{{ product.description }}</h4>

    <ng-container *ngIf="product.overview && product.overview.length">
      <h2>Overview</h2>

      <hr/>
    
      <div class="bottom-spacer-20" [innerHtml]="product.overview"></div>
    </ng-container>

    <h2 class="bottom-spacer-20">APIs</h2>

    <clr-stack-view>
      <clr-stack-block [clrSbExpandable]="true" *ngFor="let api of product.apis" [clrSbExpanded]="(activeApi && activeApi.id === api.id)" (clrSbExpandedChange)="getApiDefinition(api, $event)">
        <clr-stack-label>{{ api.name }}</clr-stack-label>
        <clr-stack-content>{{ api.description }}</clr-stack-content>
        
        <clr-stack-block *ngIf="! activeApi || (activeApi && activeApi.id !== api.id)">
          <div>Loading...</div>
        </clr-stack-block>

        <clr-stack-block class="api-content" *ngIf="activeApi && (activeApi.id === api.id)">
          <clr-stack-content>
            <api [api]="activeApi"></api>
          </clr-stack-content>
        </clr-stack-block>

      </clr-stack-block>
    </clr-stack-view>

</div>